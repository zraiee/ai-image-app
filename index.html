<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙˆØ§Ø¬Ù‡Ø© Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ù…Ø¹ Ù‚Ø§Ø¦Ù…Ø© File</title>
    <style>
        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„ØªØµÙ…ÙŠÙ… */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f9f9f9;
            color: #333;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #fff;
            border-bottom: 1px solid #ddd;
            padding: 20px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        header h1 {
            font-size: 2rem;
            color: #333;
            margin: 0;
        }
        .header-buttons {
            display: flex;
            gap: 10px;
        }
        .save-btn, .add-card-btn {
            background-color: #6c757d; /* Ù„ÙˆÙ† Ø¨Ø§Ù‡Øª */
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }
        .save-btn:hover, .add-card-btn:hover {
            background-color: #5a6268; /* Ù„ÙˆÙ† Ø£ØºÙ…Ù‚ Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .gallery {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 4 Ø£Ø¹Ù…Ø¯Ø© Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø© */
            gap: 20px;
        }
        .card {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
            text-align: center;
            position: relative;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .image-preview {
            max-width: 100%;
            height: auto;
            margin-top: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
        }
        .prompt-input {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            direction: rtl;
        }
        .drop-zone {
            border: 2px dashed #007bff;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            color: #007bff;
            margin-bottom: 10px;
            transition: background-color 0.3s;
            border-radius: 5px;
        }
        .drop-zone.dragover {
            background-color: #e9ecef;
        }
        .buttons-container {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }
        .copy-btn, .delete-btn, .share-btn {
            background-color: #e9ecef; /* Ù„ÙˆÙ† Ø¨Ø§Ù‡Øª */
            color: #333; /* Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø¯Ø§ÙƒÙ† */
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: background-color 0.3s;
            margin: 5px;
        }
        .copy-btn:hover, .delete-btn:hover, .share-btn:hover {
            background-color: #d6d8db; /* Ù„ÙˆÙ† Ø£ØºÙ…Ù‚ Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
        }
        .delete-btn {
            background-color: #f8d7da; /* Ù„ÙˆÙ† Ø¨Ø§Ù‡Øª Ù„Ù„Ø­Ø°Ù */
            color: #721c24; /* Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø¯Ø§ÙƒÙ† */
        }
        .delete-btn:hover {
            background-color: #f5c6cb; /* Ù„ÙˆÙ† Ø£ØºÙ…Ù‚ Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
        }
        .share-btn {
            background-color: #d4edda; /* Ù„ÙˆÙ† Ø¨Ø§Ù‡Øª Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ© */
            color: #155724; /* Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø¯Ø§ÙƒÙ† */
        }
        .share-btn:hover {
            background-color: #c3e6cb; /* Ù„ÙˆÙ† Ø£ØºÙ…Ù‚ Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
        }
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #28a745;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            display: none;
        }
        /* Ù‚Ø§Ø¦Ù…Ø© Ø³ÙŠØ§Ù‚ÙŠØ© */
        .context-menu {
            position: absolute;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: none;
        }
        .context-menu-item {
            padding: 10px;
            cursor: pointer;
            color: #333;
        }
        .context-menu-item:hover {
            background-color: #f0f0f0;
        }
        footer {
            text-align: center;
            padding: 20px;
            background-color: #fff;
            border-top: 1px solid #ddd;
            margin-top: 20px;
        }
        .contact-btn {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }
        .contact-info {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .contact-info p {
            margin: 5px 0;
        }
        .contact-info a {
            color: #007bff;
            text-decoration: none;
        }
        .contact-info a:hover {
            text-decoration: underline;
        }

        /* Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ØªØ¬Ø§ÙˆØ¨ */
        @media (max-width: 1200px) {
            .gallery {
                grid-template-columns: repeat(3, 1fr); /* 3 Ø£Ø¹Ù…Ø¯Ø© Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù„ÙˆØ­ÙŠØ© */
            }
        }

        @media (max-width: 768px) {
            .gallery {
                grid-template-columns: repeat(2, 1fr); /* Ø¹Ù…ÙˆØ¯ÙŠÙ† Ù„Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„ÙƒØ¨ÙŠØ±Ø© */
            }
        }

        @media (max-width: 480px) {
            .gallery {
                grid-template-columns: 1fr; /* Ø¹Ù…ÙˆØ¯ ÙˆØ§Ø­Ø¯ Ù„Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„ØµØºÙŠØ±Ø© */
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Ù…Ø´Ø±ÙˆØ¹ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØµÙˆØ± Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h1>
        <div class="header-buttons">
            <button class="save-btn" onclick="saveData()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</button>
            <button class="add-card-btn" onclick="addCard()">Ø¥Ø¶Ø§ÙØ© Ø¨Ø·Ø§Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
        </div>
    </header>

    <div class="container">
        <!-- Ø¥Ø´Ø¹Ø§Ø± -->
        <div id="notification" class="notification">ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!</div>

        <!-- Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª -->
        <div class="gallery" id="card-gallery"></div>

        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø³ÙŠØ§Ù‚ÙŠØ© -->
        <div id="context-menu" class="context-menu">
            <div class="context-menu-item" id="reset-image-context">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØµÙˆØ±Ø©</div>
            <div class="context-menu-item" id="edit-text-context">ğŸ“ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù†Øµ</div>
            <div class="context-menu-item" id="exit-app-context">ğŸšª Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬</div>
        </div>
    </div>

    <footer>
        <button class="contact-btn" onclick="toggleContactInfo()">Ù„Ù„ØªÙˆØ§ØµÙ„ ÙˆØ§Ù„Ø¯Ø¹Ù…</button>
        <div id="contact-info" class="contact-info">
            <p>Ø´ÙƒØ±Ù‹Ø§ Ù„ØªÙØ§Ø¹Ù„Ùƒ!</p>
            <p>Ù†ÙˆØ¯Ù‘ Ù…Ø¹Ø±ÙØ© Ø±Ø£ÙŠÙƒ ÙÙŠ Ø¬ÙˆØ¯Ø© Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„ØªØµÙ…ÙŠÙ….</p>
            <p>âœ… ğŸ‘ Ù…ÙÙŠØ¯</p>
            <p>âŒ ğŸ‘ ØºÙŠØ± Ø¯Ù‚ÙŠÙ‚</p>
            <p>ğŸ“ ğŸ’¬ Ù„Ø¯ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø©</p>
            <p>âœ… ğŸ“² <a href="https://wa.me/966552191598" target="_blank">ÙˆØ§ØªØ³Ø§Ø¨</a></p>
            <p>ğŸ“Œ ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: Ø¯. Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠ</p>
            <p>ğŸ“ ğŸ“± Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„: +966552191598</p>
            <p>ğŸ“§ ğŸ“© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: <a href="mailto:zraieee@gmail.com">zraieee@gmail.com</a></p>
            <p>â¤ï¸ <a href="https://www.paypal.com/paypalme/zraiee" target="_blank">Ø¯Ø¹Ù… Ø§Ù„Ø¨ÙˆØª Ù…Ø§Ø¯ÙŠØ§Ù‹</a></p>
        </div>
    </footer>

    <script>
        const notification = document.getElementById('notification');
        function showNotification() {
            notification.style.display = 'block';
            setTimeout(() => notification.style.display = 'none', 3000);
        }

        // Ù…Ø³Ø§Ø± Ø§Ù„Ø­ÙØ¸ Ø§Ù„Ù…ÙˆØ­Ø¯
        const SAVE_PATH = 'C:\\Users\\zedni\\ai-image-app\\All';

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ø³Ø§Ø± ÙˆØ¥Ù†Ø´Ø§Ø¤Ù‡ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§
        const fs = require('fs');
        const path = require('path');
        if (!fs.existsSync(SAVE_PATH)) {
            fs.mkdirSync(SAVE_PATH, { recursive: true });
        }

        let cardsData = [];
        const gallery = document.getElementById('card-gallery');
        const contextMenu = document.getElementById('context-menu');

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
        function loadSavedData() {
            const jsonPath = path.join(SAVE_PATH, 'cards_data.json');
            if (fs.existsSync(jsonPath)) {
                const jsonData = fs.readFileSync(jsonPath, 'utf-8');
                cardsData = JSON.parse(jsonData);

                // Ø¥Ø¹Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
                cardsData.forEach((card, index) => {
                    createCard(card.text, card.image, index);
                });
            }
        }

        // Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø©
        function createCard(text = '', image = '', index = null) {
            const card = document.createElement('div');
            card.className = 'card';
            card.dataset.index = index;

            card.innerHTML = `
                <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
                <label for="prompt-text" style="font-size: 1.2rem; font-weight: bold; margin-bottom: 0.5rem;">
                    Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙˆÙ…Ø¨Øª Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù‡Ù†Ø§:
                </label>
                <textarea class="prompt-input">${text}</textarea>
                <div class="drop-zone">Ø§Ø³Ø­Ø¨ Ø§Ù„ØµÙˆØ±Ø© Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ø¶ØºØ· Ù„Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù</div>
                <input type="file" class="image-upload" accept="image/*" style="display: none;">
                <img class="image-preview" src="${image}" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©" style="${image ? '' : 'display: none;'}">
                <div class="buttons-container">
                    <button class="copy-btn">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ø¨Ø±ÙˆÙ…Ø¨Øª</button>
                    <button class="delete-btn">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</button>
                    <button class="share-btn" onclick="shareOnGitHub()">ğŸŒ Ù…Ø´Ø§Ø±ÙƒØ©</button>
                </div>
            `;
            gallery.appendChild(card);

            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
            const dropZone = card.querySelector('.drop-zone');
            const fileInput = card.querySelector('.image-upload');
            const imagePreview = card.querySelector('.image-preview');

            dropZone.addEventListener('click', () => fileInput.click());
            dropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropZone.classList.add('dragover');
            });
            dropZone.addEventListener('dragleave', () => dropZone.classList.remove('dragover'));
            dropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                dropZone.classList.remove('dragover');
                handleImageUpload(e.dataTransfer.files, imagePreview, card.dataset.index);
            });

            fileInput.addEventListener('change', (e) => {
                handleImageUpload(e.target.files, imagePreview, card.dataset.index);
            });

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Øµ
            const promptInput = card.querySelector('.prompt-input');
            promptInput.addEventListener('input', () => {
                cardsData[index].text = promptInput.value;
            });

            // Ø²Ø± Ù†Ø³Ø® Ø§Ù„Ø¨Ø±ÙˆÙ…Ø¨Øª
            card.querySelector('.copy-btn').addEventListener('click', () => {
                const promptText = promptInput.value;
                if (promptText.trim() === "") {
                    alert("ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¨Ø±ÙˆÙ…Ø¨Øª Ø£ÙˆÙ„Ø§Ù‹!");
                    return;
                }
                navigator.clipboard.writeText(promptText).then(() => {
                    showNotification();
                });
            });

            // Ø²Ø± Ø­Ø°Ù Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
            card.querySelector('.delete-btn').addEventListener('click', () => {
                deleteCard(index);
            });

            // Ù‚Ø§Ø¦Ù…Ø© Ø³ÙŠØ§Ù‚ÙŠØ©
            card.addEventListener('contextmenu', (e) => {
                e.preventDefault();
                contextMenu.style.top = `${e.clientY}px`;
                contextMenu.style.left = `${e.clientX}px`;
                contextMenu.style.display = 'block';

                // ØªØ®Ø²ÙŠÙ† Ø§Ù„ÙÙ‡Ø±Ø³ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø¨Ø·Ø§Ù‚Ø©
                contextMenu.dataset.index = index;
            });
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±
        function handleImageUpload(files, imagePreview, index) {
            const file = files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    imagePreview.src = e.target.result;
                    imagePreview.style.display = 'block';
                    cardsData[index].image = e.target.result;
                    showNotification();
                };
                reader.readAsDataURL(file);
            }
        }

        // Ø­Ø°Ù Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
        function deleteCard(index) {
            cardsData.splice(index, 1);
            renderCards();
        }

        // Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
        function renderCards() {
            gallery.innerHTML = '';
            cardsData.forEach((card, index) => {
                createCard(card.text, card.image, index);
            });
        }

        // Ø¥Ø¶Ø§ÙØ© Ø¨Ø·Ø§Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø©
        function addCard() {
            const newIndex = cardsData.length;
            cardsData.push({ text: '', image: '' });
            createCard('', '', newIndex);
        }

        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function saveData() {
            cardsData.forEach((card, index) => {
                if (card.image) {
                    const base64Data = card.image.split(';base64,').pop();
                    const imagePath = path.join(SAVE_PATH, `image_${index}.png`);
                    fs.writeFileSync(imagePath, base64Data, { encoding: 'base64' });
                }
            });

            const jsonData = JSON.stringify(cardsData, null, 2);
            const jsonPath = path.join(SAVE_PATH, 'cards_data.json');
            fs.writeFileSync(jsonPath, jsonData);

            showNotification();
        }

        // Ù‚Ø§Ø¦Ù…Ø© Ø³ÙŠØ§Ù‚ÙŠØ©
        document.getElementById('reset-image-context').addEventListener('click', () => {
            const index = contextMenu.dataset.index;
            const card = document.querySelector(`.card[data-index="${index}"]`);
            const imagePreview = card.querySelector('.image-preview');
            imagePreview.src = '';
            imagePreview.style.display = 'none';
            cardsData[index].image = '';
            showNotification();
            contextMenu.style.display = 'none';
        });

        document.getElementById('edit-text-context').addEventListener('click', () => {
            const index = contextMenu.dataset.index;
            const card = document.querySelector(`.card[data-index="${index}"]`);
            const promptInput = card.querySelector('.prompt-input');
            promptInput.focus();
            contextMenu.style.display = 'none';
        });

        document.getElementById('exit-app-context').addEventListener('click', () => {
            window.close(); // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        });

        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙŠØ§Ù‚ÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
        document.addEventListener('click', () => {
            contextMenu.style.display = 'none';
        });

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
        loadSavedData();

        // ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ GitHub
        function shareOnGitHub() {
            window.open('https://github.com/zraiee/ai-image-app-prompt', '_blank');
        }

        // Ø§Ù„Ø­ÙØ¸ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
        setInterval(() => {
            saveData();
            console.log('ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª.');
        }, 60000); // 60,000 Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ© = 1 Ø¯Ù‚ÙŠÙ‚Ø©

        // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„
        function toggleContactInfo() {
            const contactInfo = document.getElementById('contact-info');
            contactInfo.style.display = contactInfo.style.display === 'block' ? 'none' : 'block';
        }
    </script>
</body>
</html>